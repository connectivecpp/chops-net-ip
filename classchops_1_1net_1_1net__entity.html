<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chops Net IP: chops::net::net_entity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Chops Net IP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>chops</b></li><li class="navelem"><b>net</b></li><li class="navelem"><a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="#related">Related Symbols</a> &#124;
<a href="classchops_1_1net_1_1net__entity-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">chops::net::net_entity Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> class provides the primary application interface into the TCP acceptor, TCP connector, and UDP entity functionality.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="net__entity_8hpp_source.html">net_entity.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab308e9fdec2c56ad8ff61e7716a92003" id="r_ab308e9fdec2c56ad8ff61e7716a92003"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab308e9fdec2c56ad8ff61e7716a92003">net_entity</a> ()=default</td></tr>
<tr class="memdesc:ab308e9fdec2c56ad8ff61e7716a92003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default construct a <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object.  <br /></td></tr>
<tr class="separator:ab308e9fdec2c56ad8ff61e7716a92003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0f387c96b83d7243a798173c8d23d3" id="r_a3f0f387c96b83d7243a798173c8d23d3"><td class="memItemLeft" align="right" valign="top"><a id="a3f0f387c96b83d7243a798173c8d23d3" name="a3f0f387c96b83d7243a798173c8d23d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>net_entity</b> (const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;)=default</td></tr>
<tr class="separator:a3f0f387c96b83d7243a798173c8d23d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38394bef4e5667a63df27a9178c9bc9" id="r_ae38394bef4e5667a63df27a9178c9bc9"><td class="memItemLeft" align="right" valign="top"><a id="ae38394bef4e5667a63df27a9178c9bc9" name="ae38394bef4e5667a63df27a9178c9bc9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>net_entity</b> (<a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;&amp;)=default</td></tr>
<tr class="separator:ae38394bef4e5667a63df27a9178c9bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2cc34eaffa0ab419be68eda09248071" id="r_ac2cc34eaffa0ab419be68eda09248071"><td class="memItemLeft" align="right" valign="top"><a id="ac2cc34eaffa0ab419be68eda09248071" name="ac2cc34eaffa0ab419be68eda09248071"></a>
<a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;)=default</td></tr>
<tr class="separator:ac2cc34eaffa0ab419be68eda09248071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98d84d7fe89e46d396af5d0683d07ee" id="r_ad98d84d7fe89e46d396af5d0683d07ee"><td class="memItemLeft" align="right" valign="top"><a id="ad98d84d7fe89e46d396af5d0683d07ee" name="ad98d84d7fe89e46d396af5d0683d07ee"></a>
<a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;&amp;)=default</td></tr>
<tr class="separator:ad98d84d7fe89e46d396af5d0683d07ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21683b3a1ff2f6366fcb308bf3cda8f" id="r_ae21683b3a1ff2f6366fcb308bf3cda8f"><td class="memTemplParams" colspan="2"><a id="ae21683b3a1ff2f6366fcb308bf3cda8f" name="ae21683b3a1ff2f6366fcb308bf3cda8f"></a>
template&lt;typename ET &gt; </td></tr>
<tr class="memitem:ae21683b3a1ff2f6366fcb308bf3cda8f"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>net_entity</b> (const std::shared_ptr&lt; ET &gt; &amp;p) noexcept</td></tr>
<tr class="memdesc:ae21683b3a1ff2f6366fcb308bf3cda8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with a shared weak pointer to an internal net entity, this is an internal constructor only and not to be used by application code. <br /></td></tr>
<tr class="separator:ae21683b3a1ff2f6366fcb308bf3cda8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a36706f0ce942968f26db84285777f" id="r_a56a36706f0ce942968f26db84285777f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56a36706f0ce942968f26db84285777f">is_valid</a> () const noexcept</td></tr>
<tr class="memdesc:a56a36706f0ce942968f26db84285777f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query whether an internal net entity is associated with this object.  <br /></td></tr>
<tr class="separator:a56a36706f0ce942968f26db84285777f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d45ad6f2f1e1f541ae3ee675273db35" id="r_a0d45ad6f2f1e1f541ae3ee675273db35"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d45ad6f2f1e1f541ae3ee675273db35">is_started</a> () const -&gt; nonstd::expected&lt; bool, std::error_code &gt;</td></tr>
<tr class="memdesc:a0d45ad6f2f1e1f541ae3ee675273db35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query whether the associated net entity is in a started or stopped state.  <br /></td></tr>
<tr class="separator:a0d45ad6f2f1e1f541ae3ee675273db35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c94eb770a83a3e801d110fbf47750d" id="r_ab2c94eb770a83a3e801d110fbf47750d"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:ab2c94eb770a83a3e801d110fbf47750d"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ab2c94eb770a83a3e801d110fbf47750d">visit_socket</a> (F &amp;&amp;func) const -&gt; nonstd::expected&lt; void, std::error_code &gt;</td></tr>
<tr class="memdesc:ab2c94eb770a83a3e801d110fbf47750d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call an application supplied function object with a reference to the associated net entity <code>asio</code> socket.  <br /></td></tr>
<tr class="separator:ab2c94eb770a83a3e801d110fbf47750d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9915215217815dc0173231e44b450750" id="r_a9915215217815dc0173231e44b450750"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a9915215217815dc0173231e44b450750"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a9915215217815dc0173231e44b450750">visit_io_output</a> (F &amp;&amp;func) const -&gt; nonstd::expected&lt; std::size_t, std::error_code &gt;</td></tr>
<tr class="memdesc:a9915215217815dc0173231e44b450750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call an application supplied function object with all <code><a class="el" href="classchops_1_1net_1_1basic__io__output.html" title="The basic_io_output class template provides methods for sending data to an associated network IO hand...">basic_io_output</a></code> objects that are active on associated IO handlers for this net entity.  <br /></td></tr>
<tr class="separator:a9915215217815dc0173231e44b450750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9209d29e10c0e51303a56795db628f45" id="r_a9209d29e10c0e51303a56795db628f45"><td class="memTemplParams" colspan="2">template&lt;typename F1 , typename F2 &gt; </td></tr>
<tr class="memitem:a9209d29e10c0e51303a56795db628f45"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a9209d29e10c0e51303a56795db628f45">start</a> (F1 &amp;&amp;io_state_chg_func, F2 &amp;&amp;err_func) -&gt; nonstd::expected&lt; void, std::error_code &gt;</td></tr>
<tr class="memdesc:a9209d29e10c0e51303a56795db628f45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start network processing on the associated net entity with the application providing IO state change and error function objects.  <br /></td></tr>
<tr class="separator:a9209d29e10c0e51303a56795db628f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8fe0a69643e49180d22718d33ebeb3" id="r_a0b8fe0a69643e49180d22718d33ebeb3"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b8fe0a69643e49180d22718d33ebeb3">stop</a> () -&gt; nonstd::expected&lt; void, std::error_code &gt;</td></tr>
<tr class="memdesc:a0b8fe0a69643e49180d22718d33ebeb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop network processing on the associated network entity.  <br /></td></tr>
<tr class="separator:a0b8fe0a69643e49180d22718d33ebeb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5e312a882a4a6f65cba06f3eeb62fc" id="r_a7e5e312a882a4a6f65cba06f3eeb62fc"><td class="memItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e5e312a882a4a6f65cba06f3eeb62fc">stream_out</a> () const noexcept</td></tr>
<tr class="memdesc:a7e5e312a882a4a6f65cba06f3eeb62fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a display string of the internal type, whether for logging or debugging purposes.  <br /></td></tr>
<tr class="separator:a7e5e312a882a4a6f65cba06f3eeb62fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0269bc3767ec6fa733b5ab8ffab8c607" id="r_a0269bc3767ec6fa733b5ab8ffab8c607"><td class="memItemLeft" align="right" valign="top"><a id="a0269bc3767ec6fa733b5ab8ffab8c607" name="a0269bc3767ec6fa733b5ab8ffab8c607"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>net_ip</b></td></tr>
<tr class="separator:a0269bc3767ec6fa733b5ab8ffab8c607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07def35b746620c89dc1d17c725b7422" id="r_a07def35b746620c89dc1d17c725b7422"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07def35b746620c89dc1d17c725b7422">operator==</a> (const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;lhs, const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;rhs)</td></tr>
<tr class="memdesc:a07def35b746620c89dc1d17c725b7422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects for equality.  <br /></td></tr>
<tr class="separator:a07def35b746620c89dc1d17c725b7422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a3375973671454929559aae1996d76" id="r_a84a3375973671454929559aae1996d76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84a3375973671454929559aae1996d76">operator&lt;</a> (const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;lhs, const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;rhs)</td></tr>
<tr class="memdesc:a84a3375973671454929559aae1996d76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects for ordering purposes.  <br /></td></tr>
<tr class="separator:a84a3375973671454929559aae1996d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="related" name="related"></a>
Related Symbols</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member symbols.) </p>
</td></tr>
<tr class="memitem:a6a068f8c1aad94ddea1c49c864a6b61a" id="r_a6a068f8c1aad94ddea1c49c864a6b61a"><td class="memTemplParams" colspan="2"><a id="a6a068f8c1aad94ddea1c49c864a6b61a" name="a6a068f8c1aad94ddea1c49c864a6b61a"></a>
template&lt;typename IOT &gt; </td></tr>
<tr class="memitem:a6a068f8c1aad94ddea1c49c864a6b61a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>empty_error_func</b> (<a class="el" href="classchops_1_1net_1_1basic__io__interface.html">basic_io_interface</a>&lt; IOT &gt;, std::error_code)</td></tr>
<tr class="memdesc:a6a068f8c1aad94ddea1c49c864a6b61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A "do nothing" error function template that can be used in the <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> <code>start</code> method. <br /></td></tr>
<tr class="separator:a6a068f8c1aad94ddea1c49c864a6b61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b25cb3b9e509e085a358247c10fb3d5" id="r_a8b25cb3b9e509e085a358247c10fb3d5"><td class="memItemLeft" align="right" valign="top"><a id="a8b25cb3b9e509e085a358247c10fb3d5" name="a8b25cb3b9e509e085a358247c10fb3d5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tcp_empty_error_func</b> (tcp_io_interface, std::error_code)</td></tr>
<tr class="memdesc:a8b25cb3b9e509e085a358247c10fb3d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A "do nothing" error function used in the <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> <code>start</code> method, for TCP <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> objects. <br /></td></tr>
<tr class="separator:a8b25cb3b9e509e085a358247c10fb3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22c638c72f2736678a93a610ebb9e3f" id="r_af22c638c72f2736678a93a610ebb9e3f"><td class="memItemLeft" align="right" valign="top"><a id="af22c638c72f2736678a93a610ebb9e3f" name="af22c638c72f2736678a93a610ebb9e3f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>udp_empty_error_func</b> (udp_io_interface, std::error_code)</td></tr>
<tr class="memdesc:af22c638c72f2736678a93a610ebb9e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A "do nothing" error function used in the <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> <code>start</code> method, for UDP <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> objects. <br /></td></tr>
<tr class="separator:af22c638c72f2736678a93a610ebb9e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> class provides the primary application interface into the TCP acceptor, TCP connector, and UDP entity functionality. </p>
<p>The <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> class provides methods to start and stop processing on an underlying network entity, such as a TCP acceptor or TCP connector or UDP entity (which may be a UDP unicast sender or receiver, or a UDP multicast receiver).</p>
<p>Calling the <code>stop</code> method on a <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object will shutdown the associated network resource. At this point, other <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects copied from the original will be affected.</p>
<p>The <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> class is a lightweight value class, designed to be easy and efficient to copy and store. Internally it uses a <code>std::weak_ptr</code> to refer to the actual network entity.</p>
<p>A <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object is either associated with a network entity (i.e. the <code>std::weak</code> pointer is good), or not. The <code>is_valid</code> method queries if the association is present.</p>
<p>Applications can default construct a <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object, but it is not useful until a valid <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object is assigned to it (as provided in the <code>make</code> methods of the <code><a class="el" href="classchops_1_1net_1_1net__ip.html" title="Primary class for the Chops Net IP library and the initial API point for providing TCP acceptor,...">net_ip</a></code> class).</p>
<p>Appropriate comparison operators are provided to allow <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects to be used in associative or sequence containers.</p>
<p>All <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> methods are safe to call concurrently from multiple threads. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab308e9fdec2c56ad8ff61e7716a92003" name="ab308e9fdec2c56ad8ff61e7716a92003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab308e9fdec2c56ad8ff61e7716a92003">&#9670;&#160;</a></span>net_entity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">chops::net::net_entity::net_entity </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default construct a <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object. </p>
<p>A <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> object is not useful until an active <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> is assigned into it. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0d45ad6f2f1e1f541ae3ee675273db35" name="a0d45ad6f2f1e1f541ae3ee675273db35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d45ad6f2f1e1f541ae3ee675273db35">&#9670;&#160;</a></span>is_started()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto chops::net::net_entity::is_started </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const -&gt; nonstd::expected&lt;bool, std::error_code&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query whether the associated net entity is in a started or stopped state. </p>
<dl class="section return"><dt>Returns</dt><dd><code>nonstd::expected</code> - <code>bool</code> on success, specifying whether <code>start</code> has been called (if <code>false</code>, the network entity has not been started or is in a stopped state); on error (if no associated IO handler), a <code>std::error_code</code> is returned. </dd></dl>

</div>
</div>
<a id="a56a36706f0ce942968f26db84285777f" name="a56a36706f0ce942968f26db84285777f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a36706f0ce942968f26db84285777f">&#9670;&#160;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool chops::net::net_entity::is_valid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query whether an internal net entity is associated with this object. </p>
<p>If <code>true</code>, a net entity (TCP acceptor or TCP connector or UDP entity) is associated.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if associated with a net entity. </dd></dl>

</div>
</div>
<a id="a9209d29e10c0e51303a56795db628f45" name="a9209d29e10c0e51303a56795db628f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9209d29e10c0e51303a56795db628f45">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F1 , typename F2 &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto chops::net::net_entity::start </td>
          <td>(</td>
          <td class="paramtype">F1 &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>io_state_chg_func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F2 &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>err_func</em></span>&#160;) -&gt; nonstd::expected&lt;void, std::error_code&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start network processing on the associated net entity with the application providing IO state change and error function objects. </p>
<p>Once a net entity (TCP acceptor, TCP connector, UDP entity) is created through a <code><a class="el" href="classchops_1_1net_1_1net__ip.html" title="Primary class for the Chops Net IP library and the initial API point for providing TCP acceptor,...">net_ip</a></code> <code>make</code> method, calling <code>start</code> on the <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> causes local port binding and other processing (e.g. TCP listen, TCP connect) to occur.</p>
<p>Input and output processing does not start until the <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> <code>start_io</code> method is called.</p>
<p>The application provides two function objects to <code>start</code> (the second can be defaulted to a "do nothing" function object):</p>
<p>1) An IO state change callback function object. This callback object is invoked when a TCP connection is created or a UDP socket opened, and then invoked when the TCP connection is destroyed or the UDP socket closed. A <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object is provided to the callback which allows IO processing to commence through the <code>start_io</code> method call (when a TCP connection is created or UDP socket opened).</p>
<p>2) An error function object which is invoked whenever an error occurs or when important processing is performed within an IO handler or network entity.</p>
<p>The <code>start</code> method call can only be called once. In other words, once started and stopped, a net entity cannot be restarted (future enhancements may allow restarting a net entity).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_state_chg_func</td><td>A function object with the following signature:</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="comment">// TCP:</span></div>
<div class="line">void (chops::net::tcp_io_interface, std::size_t, <span class="keywordtype">bool</span>);</div>
<div class="line"><span class="comment">// UDP:</span></div>
<div class="line">void (chops::net::udp_io_interface, std::size_t, <span class="keywordtype">bool</span>);</div>
</div><!-- fragment --><p>The parameters are as follows:</p>
<p>1) A <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object providing <code>start_io</code> access (and <code>stop_io</code> access if needed) to the underlying IO handler.</p>
<p>2) A count of the underlying IO handlers associated with this net entity. For a TCP connector or a UDP entity the number is 1 when starting and 0 when stopping, and for a TCP acceptor the number is 0 to N, depending on the number of accepted connections.</p>
<p>3) If <code>true</code>, the <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> has just been created (i.e. a TCP connection has been created or a UDP socket is ready), and if <code>false</code>, the connection or socket has been destroyed or closed.</p>
<p>In both IO state change function object callback invocations the <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object is valid (<code>is_valid</code> returns <code>true</code>). For the second invocation no <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> methods should be called (since the IO handler is in the process of shutting down), but the <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object can be used for associative lookups (if needed).</p>
<p>The IO state change function object must be copyable (it will be stored in a <code>std::function</code>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err_func</td><td>A function object with the following signature:</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="comment">// TCP:</span></div>
<div class="line">void (chops::net::tcp_io_interface, std::error_code);</div>
<div class="line"><span class="comment">// UDP:</span></div>
<div class="line">void (chops::net::udp_io_interface, std::error_code);</div>
</div><!-- fragment --><p>The parameters are as follows:</p>
<p>1) A <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object, which may or may not be valid (i.e <code>is_valid</code> may return either <code>true</code> or <code>false</code>), depending on the context of the error. No methods on the <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object should be called, as the underlying handler, if present, may be in the process of shutting down. The <code><a class="el" href="classchops_1_1net_1_1basic__io__interface.html" title="The basic_io_interface class template provides access to an underlying network IO handler (TCP or UDP...">basic_io_interface</a></code> object is provided as a key to associate multiple error codes to the same handler.</p>
<p>2) The error code associated with the invocation. There are error codes associated with application initiated closes, shutdowns, and other state changes as well as error codes for network or system errors.</p>
<p>The <code>err_func</code> callback may be invoked in contexts other than a network IO error - for example, if a TCP acceptor or UDP entity cannot bind to a local port, a system error code will be provided. It is also used to notify important state changes, such as a message handler shutdown or TCP connector state changes.</p>
<p>The error function object must be copyable (it will be stored in a <code>std::function</code>).</p>
<p>For use cases that don't care about error codes, a function named <code>empty_error_func</code> is available.</p>
<dl class="section return"><dt>Returns</dt><dd><code>nonstd::expected</code> - on success network entity is started; on error, a <code>std::error_code</code> is returned. </dd></dl>

</div>
</div>
<a id="a0b8fe0a69643e49180d22718d33ebeb3" name="a0b8fe0a69643e49180d22718d33ebeb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b8fe0a69643e49180d22718d33ebeb3">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto chops::net::net_entity::stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> -&gt; nonstd::expected&lt;void, std::error_code&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop network processing on the associated network entity. </p>
<p>Internally, the network entity will call <code>stop_io</code> (or equivalent) on each associated IO handler.</p>
<p>Stopping the network processing may involve closing connections, deallocating resources, unbinding from ports, and invoking application provided state change function object callbacks.</p>
<dl class="section return"><dt>Returns</dt><dd><code>nonstd::expected</code> - on success network entity is stopped; on error, a <code>std::error_code</code> is returned. </dd></dl>

</div>
</div>
<a id="a7e5e312a882a4a6f65cba06f3eeb62fc" name="a7e5e312a882a4a6f65cba06f3eeb62fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5e312a882a4a6f65cba06f3eeb62fc">&#9670;&#160;</a></span>stream_out()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view chops::net::net_entity::stream_out </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide a display string of the internal type, whether for logging or debugging purposes. </p>
<dl class="section return"><dt>Returns</dt><dd>A <code>std::string_view</code> containing the network entity type, either UDP, TCP acceptor, or TCP connector. </dd></dl>

</div>
</div>
<a id="a9915215217815dc0173231e44b450750" name="a9915215217815dc0173231e44b450750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9915215217815dc0173231e44b450750">&#9670;&#160;</a></span>visit_io_output()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto chops::net::net_entity::visit_io_output </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>func</em></span></td><td>)</td>
          <td> const -&gt; nonstd::expected&lt;std::size_t, std::error_code&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call an application supplied function object with all <code><a class="el" href="classchops_1_1net_1_1basic__io__output.html" title="The basic_io_output class template provides methods for sending data to an associated network IO hand...">basic_io_output</a></code> objects that are active on associated IO handlers for this net entity. </p>
<p>A TCP connector will have 0 or 1 active IO handlers, depending on connection state, while a TCP acceptor will have 0 to N active IO handlers, depending on the number of accepted incoming connections. A UDP entity will either have 0 or 1 active IO handlers depending on whether it has been started or not.</p>
<p>The function object must have one of the following signatures, depending on TCP or UDP:</p>
<div class="fragment"><div class="line">void (chops::net::tcp_io_output); <span class="comment">// TCP</span></div>
<div class="line">void (chops::net::udp_io_output); <span class="comment">// UDP</span></div>
</div><!-- fragment --><p>The function object will be called 0 to N times depending on active IO handlers. An IO handler is active if <code>start_io</code> has been called on it.</p>
<dl class="section return"><dt>Returns</dt><dd><code>nonstd::expected</code> - on success returns number of times function object has been called; on error (if no associated IO handler), a <code>std::error_code</code> is returned. </dd></dl>

</div>
</div>
<a id="ab2c94eb770a83a3e801d110fbf47750d" name="ab2c94eb770a83a3e801d110fbf47750d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c94eb770a83a3e801d110fbf47750d">&#9670;&#160;</a></span>visit_socket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto chops::net::net_entity::visit_socket </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>func</em></span></td><td>)</td>
          <td> const -&gt; nonstd::expected&lt;void, std::error_code&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call an application supplied function object with a reference to the associated net entity <code>asio</code> socket. </p>
<p>The function object must have one of the following signatures, depending on the entity type:</p>
<div class="fragment"><div class="line">void (asio::ip::tcp::socket&amp;); <span class="comment">// TCP connector</span></div>
<div class="line">void (asio::ip::tcp::acceptor&amp;) <span class="comment">// TCP acceptor</span></div>
<div class="line">void (asio::ip::udp::socket&amp;); <span class="comment">// UDP entity</span></div>
</div><!-- fragment --><p>Within the function object socket options can be queried or modified or any valid socket method called.</p>
<dl class="section return"><dt>Returns</dt><dd><code>nonstd::expected</code> - <code>bool</code> socket has been visited; on error (if no associated IO handler), a <code>std::error_code</code> is returned. </dd></dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a84a3375973671454929559aae1996d76" name="a84a3375973671454929559aae1996d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a3375973671454929559aae1996d76">&#9670;&#160;</a></span>operator&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator&lt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lhs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare two <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects for ordering purposes. </p>
<p>Arbitrarily, a UDP network entity compares less than a TCP acceptor which compares less than a TCP connector. If both network entities are the same then the <code>std::shared_ptr</code> ordering is returned.</p>
<p>All invalid <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects (of the same network entity type) are less than valid ones. If both <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects are invalid and the same network entity type, they are considered equal, so <code>operator&lt;</code> returns <code>false</code>.</p>
<dl class="section return"><dt>Returns</dt><dd>As described in the comments. </dd></dl>

</div>
</div>
<a id="a07def35b746620c89dc1d17c725b7422" name="a07def35b746620c89dc1d17c725b7422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07def35b746620c89dc1d17c725b7422">&#9670;&#160;</a></span>operator==</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lhs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classchops_1_1net_1_1net__entity.html">net_entity</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare two <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects for equality. </p>
<p>If the @ <a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a> objects are not both pointing to the same type of network entity (TCP connector, TCP acceptor, etc), then they are not equal. If both are the same type of network entity, then both are checked to be valid (i.e. the internal <code>weak_ptr</code> is valid). If both are valid, then a <code>std::shared_ptr</code> comparison is made.</p>
<p>If both <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects are invalid (and both same type of network entity), <code>true</code> is returned (this implies that all invalid <code><a class="el" href="classchops_1_1net_1_1net__entity.html" title="The net_entity class provides the primary application interface into the TCP acceptor,...">net_entity</a></code> objects are equivalent). If one is valid and the other invalid, <code>false</code> is returned.</p>
<dl class="section return"><dt>Returns</dt><dd>As described in the comments. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/include/net_ip/<a class="el" href="net__entity_8hpp_source.html">net_entity.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
